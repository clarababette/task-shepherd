var Q=Object.defineProperty;var U=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var _=(e,a,o)=>a in e?Q(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,j=(e,a)=>{for(var o in a||(a={}))X.call(a,o)&&_(e,o,a[o]);if(U)for(var o of U(a))Y.call(a,o)&&_(e,o,a[o]);return e};import{j as s,g as B,a as H,s as z,_ as C,r as m,u as V,e as W,f as O,h as N,c as I,N as L,A as G,k as v,B as k,T as y,M as Z}from"./index.d45181ea.js";import{v as ee,t as ae,c as te,i as se,r as oe,T as w,I as M,B as E,d as A}from"./TaskHeader.242215a4.js";import{D as J,d as P,F as re,a as S,C as D,b as ie,c as ne}from"./MentorPage.12567a2b.js";var le=ee(s("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function ce(e){return B("MuiAvatar",e)}H("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const de=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],ue=e=>{const{classes:a,variant:o,colorDefault:r}=e;return O({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},ce,a)},pe=z("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[o.variant],o.colorDefault&&a.colorDefault]}})(({theme:e,ownerState:a})=>C({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},a.variant==="rounded"&&{borderRadius:e.shape.borderRadius},a.variant==="square"&&{borderRadius:0},a.colorDefault&&{color:e.palette.background.default,backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]})),me=z("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,a)=>a.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ge=z(le,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,a)=>a.fallback})({width:"75%",height:"75%"});function he({crossOrigin:e,referrerPolicy:a,src:o,srcSet:r}){const[i,n]=m.exports.useState(!1);return m.exports.useEffect(()=>{if(!o&&!r)return;n(!1);let c=!0;const l=new Image;return l.onload=()=>{!c||n("loaded")},l.onerror=()=>{!c||n("error")},l.crossOrigin=e,l.referrerPolicy=a,l.src=o,r&&(l.srcset=r),()=>{c=!1}},[e,a,o,r]),i}const fe=m.exports.forwardRef(function(a,o){const r=V({props:a,name:"MuiAvatar"}),{alt:i,children:n,className:c,component:l="div",imgProps:d,sizes:t,src:g,srcSet:h,variant:F="circular"}=r,R=W(r,de);let b=null;const u=he(C({},d,{src:g,srcSet:h})),p=g||h,f=p&&u!=="error",x=C({},r,{colorDefault:!f,component:l,variant:F}),T=ue(x);return f?b=s(me,C({alt:i,src:g,srcSet:h,sizes:t,ownerState:x,className:T.img},d)):n!=null?b=n:p&&i?b=i[0]:b=s(ge,{className:T.fallback}),s(pe,C({as:l,ownerState:x,className:N(T.root,c),ref:o},R,{children:b}))});var ve=fe;function be(e){return B("MuiFab",e)}const xe=H("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var q=xe;const Ce=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],ke=e=>{const{color:a,variant:o,classes:r,size:i}=e,n={root:["root",o,`size${I(i)}`,a==="inherit"?"colorInherit":a]};return O(n,be,r)},Re=z(ae,{name:"MuiFab",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[o.variant],a[`size${I(o.size)}`],o.color==="inherit"&&a.colorInherit,a[I(o.size)],a[o.color]]}})(({theme:e,ownerState:a})=>C({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:e.zIndex.fab,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},textDecoration:"none"},[`&.${q.focusVisible}`]:{boxShadow:e.shadows[6]},[`&.${q.disabled}`]:{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},a.size==="small"&&{width:40,height:40},a.size==="medium"&&{width:48,height:48},a.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},a.variant==="extended"&&a.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},a.variant==="extended"&&a.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},a.color==="inherit"&&{color:"inherit"}),({theme:e,ownerState:a})=>C({},a.color!=="inherit"&&a.color!=="default"&&e.palette[a.color]!=null&&{color:e.palette[a.color].contrastText,backgroundColor:e.palette[a.color].main,"&:hover":{backgroundColor:e.palette[a.color].dark,"@media (hover: none)":{backgroundColor:e.palette[a.color].main}}})),ye=m.exports.forwardRef(function(a,o){const r=V({props:a,name:"MuiFab"}),{children:i,className:n,color:c="default",component:l="button",disabled:d=!1,disableFocusRipple:t=!1,focusVisibleClassName:g,size:h="large",variant:F="circular"}=r,R=W(r,Ce),b=C({},r,{color:c,component:l,disabled:d,disableFocusRipple:t,size:h,variant:F}),u=ke(b);return s(Re,C({className:N(u.root,n),component:l,disabled:d,focusRipple:!t,focusVisibleClassName:N(u.focusVisible,g),ownerState:b,ref:o},R,{children:i}))});var Fe=ye,$={},we=se.exports;Object.defineProperty($,"__esModule",{value:!0});var K=$.default=void 0,ze=we(te),Te=oe,Ae=(0,ze.default)((0,Te.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");K=$.default=Ae;function Ne(){const{setNewTask:e,setUpdate:a}=m.exports.useContext(L),o=G(),r=[{url:"GitHub Repo",selected:!1},{url:"GitHub Pages",selected:!1},{url:"Heroku",selected:!1},{url:"Travis CI",selected:!1}],[i,n]=m.exports.useState(""),[c,l]=m.exports.useState(""),[d,t]=m.exports.useState([{}]),[g,h]=m.exports.useState(r),[F,R]=m.exports.useState("");return v("div",{className:"create-task",children:[s(J,{children:"Create Task"}),v(k,{component:"form",className:"new-task",onSubmit:async u=>{u.preventDefault(),i!=""&&await o.post("/create-task",{name:i,description:c,infoURLs:d,coderURLs:g.reduce((p,f)=>(f.selected==!0&&(p=[...p,f.url]),p),[])}).then(p=>{e(j({},p.data[0])),a(!0)})},children:[s(w,{required:!0,size:"small",sx:{gridColumn:"span 2"},label:"Task name",value:i,onChange:u=>{n(u.target.value)}}),s(w,{size:"small",sx:{gridColumn:"span 2"},label:"Description",value:c,multiline:!0,minRows:4,onChange:u=>{l(u.target.value)}}),v(k,{sx:{gridColumn:"span 2"},children:[s(y,{children:"Additional Resources"}),d.map((u,p)=>v(k,{sx:{gridColumn:"1 / 2",width:"30em"},children:[s(w,{size:"small",label:"Description",type:"text",onChange:f=>{const x=[...d];x[p].description=f.target.value,t(x)}}),s(w,{size:"small",label:"URL",type:"text",onChange:f=>{const x=[...d];x[p].address=f.target.value,t(x)}})]},p)),s(M,{className:"add-url",onClick:()=>{t([...d,{}])},children:s(P,{})})]}),v(k,{sx:{gridColumn:"span 2"},children:[s(y,{children:"Coder Submission Links"}),s(re,{children:g.map((u,p)=>s(S,{control:s(D,{onChange:f=>{g[p].selected=f.target.checked}}),label:u.url},p))}),s(w,{size:"small",sx:{gridColumn:"1 / 2"},label:"other",type:"text",onChange:u=>{R(u.target.value)}}),s(M,{className:"add-url",onClick:()=>{h([...g,{url:F,selected:!1}]),R("")},children:s(P,{})})]}),s(E,{variant:"contained",type:"submit",sx:{gridColumn:"span 2",width:"fit-content",justifySelf:"center"},children:"Save Task"})]})]})}function Ie(){const{newTask:{id:e,name:a},handleClose:o,setUpdate:r}=m.exports.useContext(L),[i,n]=m.exports.useState(),c=G();m.exports.useEffect(async()=>{c.get(`/assign/task/${e}`).then(t=>{n([...t.data])})},[]);const l=t=>{const g=i.map(h=>(h.id==t.target.value&&(h.assignNew=t.target.checked),h));n([...g])},d=async t=>{t.preventDefault();const g=i.filter(h=>h.assignNew==!0);await c.post(`/assign/task/${e}`,{coders:g}).then(()=>{r(!0),o()})};return i?v("div",{className:"assign-coders",children:[v(J,{children:["Assign Task - ",a]}),v(k,{component:"form",onSubmit:d,children:[i.map(t=>v("div",{children:[t.status&&s(S,{control:s(D,{id:t.id.toString(),checked:!0,readOnly:!0}),label:`${t.first_name} ${t.last_name}`}),!t.status&&s(S,{control:s(D,{id:t.id.toString(),value:t.id,onChange:l}),label:`${t.first_name} ${t.last_name}`})]},t.id)),s(E,{variant:"contained",type:"submit",sx:{width:"fit-content"},children:"Save"})]})]}):null}function Ue(){const{tasks:e,open:a,handleClickOpen:o,handleClose:r,newTask:i}=m.exports.useContext(L),{setProjectID:n}=m.exports.useContext(Z);if(!e)return null;const c=e.filter(t=>t["Feedback requested"]),l=e.filter(t=>!t["Feedback requested"]&&(t.Assigned||t["Feedback updated"])),d=e.filter(t=>!t["Feedback requested"]&&!t.Assigned&&!t["Feedback updated"]);return v(k,{sx:{padding:"2rem",display:"flex"},children:[v(k,{children:[s(y,{variant:"h6",children:"All Projects"}),s(y,{sx:{marginTop:"1em",marginLeft:"0.5em"},variant:"subtitle1",children:"Feedback requests"}),c.map(t=>s(A,{variant:"outlined",sx:{marginTop:"0.5em",marginLeft:"0.5em"},avatar:s(ve,{children:t["Feedback requested"]}),label:t.name,onClick:()=>{n(t.id)}},t.id)),s(y,{sx:{marginTop:"1em",marginLeft:"0.5em"},variant:"subtitle1",children:"Active Projects"}),l.map(t=>s(A,{variant:"outlined",sx:{marginTop:"0.5em",marginLeft:"0.5em"},label:t.name,onClick:()=>{n(t.id)}},t.id)),s(y,{sx:{marginTop:"1em",marginLeft:"0.5em"},variant:"subtitle1",children:"Inactive Projects"}),d.map(t=>s(A,{variant:"outlined",sx:{marginTop:"0.5em",marginLeft:"0.5em"},label:t.name,onClick:()=>{n(t.id)}},t.id))]}),s(Fe,{onClick:o,sx:{justifySelf:"end",alignSelf:"end"},children:s(K,{})}),s(ie,{open:a,onClose:r,children:s(ne,{children:i?s(Ie,{}):s(Ne,{})})})]})}export{Ue as default};
